# AI Agent Guidelines for chanhdai.com

This guide provides essential information for AI agents working with the chanhdai.com codebase - a Next.js portfolio, blog, and component registry website.

## Project Overview

**chanhdai.com** is a minimal portfolio, component registry, and blog built with modern web technologies. It serves as:

- Personal portfolio for Nguyen Chanh Dai (@ncdai)
- Component registry using shadcn/ui system
- Blog with MDX content
- Showcase for custom React components

### Tech Stack

- **Framework**: Next.js 15 (App Router)
- **Styling**: Tailwind CSS v4
- **UI Components**: shadcn/ui + custom components
- **Package Manager**: pnpm
- **Language**: TypeScript
- **Content**: MDX for blog posts
- **Deployment**: Vercel

## Project Structure

### Key Directories

```
src/
├── app/                    # Next.js App Router pages
│   ├── (app)/             # Main app routes
│   ├── (llms)/            # LLM-related routes
│   ├── og/                # Open Graph image generation
│   └── rss/               # RSS feed generation
├── components/            # Shared UI components
├── registry/              # Component registry source
├── __registry__/          # Auto-generated registry files (DO NOT EDIT)
├── features/              # Feature-based modules
│   ├── blog/              # Blog functionality
│   └── profile/           # User profile data
├── hooks/                 # Custom React hooks
├── lib/                   # Utility libraries
└── styles/                # Global styles
```

### Important Files

- `src/config/site.ts` - Site configuration and navigation
- `src/config/registry.ts` - Registry configuration
- `src/features/profile/data/user.ts` - User profile data
- `src/registry/index.ts` - Registry entry point
- `components.json` - shadcn/ui configuration

## Component Registry System

The project features a custom component registry built on top of shadcn/ui:

### Registry Structure

- **Components** (`src/registry/registry-components.ts`) - UI components
- **Hooks** (`src/registry/registry-hook.ts`) - Custom React hooks
- **Examples** (`src/registry/registry-examples.ts`) - Component demos
- **Lib** (`src/registry/registry-lib.ts`) - Utility functions

### Registry Types

- `registry:component` - Reusable UI components
- `registry:hook` - Custom React hooks
- `registry:example` - Component examples/demos
- `registry:lib` - Utility libraries

### Available Components

1. **theme-switcher** - Theme switching component
2. **flip-sentences** - Text animation component
3. **apple-hello-effect** - Apple-style writing effect
4. **wheel-picker** - iOS-like wheel picker
5. **work-experience** - Work experience display
6. **use-controllable-state** - State management hook
7. **utils** - Utility functions

### Registry Build Process

```bash
# Build registry internally
pnpm registry:internal:build

# Build shadcn registry
pnpm registry:build
```

Auto-generated files (DO NOT EDIT):

- `src/__registry__/index.tsx`
- `src/__registry__/registry.autogenerated.json`
- `public/r/*.json`

## Development Guidelines

### Getting Started

```bash
# Install dependencies
pnpm install

# Start development server
pnpm dev  # Runs on port 1408

# Build for production
pnpm build
```

### Code Standards

- **TypeScript**: Strict mode enabled
- **ESLint**: Next.js configuration
- **Prettier**: Code formatting
- **File naming**: kebab-case for files, PascalCase for components

### Component Development

1. Create component in `src/registry/[component-name]/`
2. Add to appropriate registry file (`registry-components.ts`, etc.)
3. Create examples in `src/registry/examples/`
4. Run registry build commands
5. Update documentation

## Working with Content

### Blog Posts

- Location: `src/features/blog/content/`
- Format: MDX files
- Supports: Custom components, code blocks, metadata

### User Profile

**Profile Data Files** (`src/features/profile/data/`):

- `user.ts` - Core personal information, bio, contact details, job history
- `experiences.ts` - Detailed work experience, education, company information
- `projects.ts` - Portfolio projects with descriptions, links, skills, logos
- `tech-stack.ts` - Technology stack, programming languages, tools, frameworks
- `awards.ts` - Competition awards, prizes, academic achievements, certificates
- `certifications.ts` - Professional certifications, course completions, credentials
- `social-links.ts` - Social media profiles, professional networks, contact links

## Environment & Configuration

### Environment Variables

See `.env.example` for required variables:

- `APP_URL` - Application URL
- `REGISTRY_URL` - Registry base URL

### Site Configuration

- Navigation: `MAIN_NAV` in `src/config/site.ts`
- Theme colors: `META_THEME_COLORS`
- GitHub repo: `SOURCE_CODE_GITHUB_REPO`

## Common Tasks

### Adding a New Component

1. Create component directory: `src/registry/[name]/`
2. Implement component with proper TypeScript types
3. Add to `src/registry/registry-components.ts`
4. Create example in `src/registry/examples/`
5. Build registry: `pnpm registry:build`

### Updating User Information

Edit `src/features/profile/data/user.ts` with new:

- Personal information
- Job details
- Project descriptions
- Contact information

### Adding Blog Posts

1. Create MDX file in `src/features/blog/content/`
2. Include frontmatter metadata
3. Use custom components for enhanced content

### Styling Guidelines

- Use Tailwind CSS v4 syntax
- Follow existing color scheme (zinc-based)
- Support dark/light modes
- Use CSS variables for theme colors

## Important Notes

### Registry Dependencies

- Components may depend on external packages
- Registry dependencies use `<registryBaseUrl>` placeholder
- Build process replaces placeholders with actual URLs

### Auto-generated Files

**NEVER EDIT** these files directly:

- `src/__registry__/index.tsx`
- `src/__registry__/registry.autogenerated.json`
- Files in `public/r/`

### Performance Considerations

- Components use React.lazy() for code splitting
- Images optimized with Next.js Image component
- MDX content is statically generated

### Personal Information

When adapting this codebase, ensure ALL personal information is replaced:

**Key Areas to Update**:

- All files in `src/features/profile/data/` (see User Profile section above)
- `src/config/site.ts` - Site name, navigation, GitHub repo, UTM params
- Blog posts in `src/features/blog/content/`
- Asset URLs (images, logos, audio files) throughout the codebase

**Important**: Profile data contains encoded contact information (base64) and specific asset URLs that must be updated for your own use.

## Deployment

### Vercel Deployment

- Automatic deployment from GitHub
- Environment variables configured in Vercel dashboard
- Build command: `pnpm build`
- Output directory: `.next`

### Build Commands

```bash
pnpm build          # Production build
pnpm start          # Start production server
pnpm preview        # Build and preview locally
```

## Contributing

### Code Quality

- Run `pnpm lint` before committing
- Use `pnpm format:write` for code formatting
- Check types with `pnpm check-types`

### Testing Registry Components

- Test components in isolation
- Verify registry build process
- Test installation via shadcn CLI

---

**Note**: This is a personal portfolio project. When using as a template, ensure all personal information is removed and replaced with your own content.
